/*---------------------------------------------------------------------------------------------
 *  Copyright (c) 2026 Mohammed Nihan (Nihan Nihu). All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75517,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function a(){fetch("http://127.0.0.1:7472/ingest/85a090eb-b14e-433c-8641-84939fd73bfc",{method:"POST",headers:{"Content-Type":"application/json","X-Debug-Session-Id":"718c7e"},body:JSON.stringify({sessionId:"718c7e",runId:"ide-identity",hypothesisId:"H1",location:"frontend/components/Dashboard.tsx:12",message:"Dashboard IDE layout rendered",data:{layout:"IDE",hasVoiceUI:!1,timestampIso:new Date().toISOString()},timestamp:Date.now()})}).catch(()=>{});let[e,a]=(0,s.useState)([]),[r,l]=(0,s.useState)(!1),[n,o]=(0,s.useState)(""),[i,d]=(0,s.useState)(!1),c=(0,s.useRef)(null),x=(0,s.useRef)(""),m=(0,s.useRef)(null),p=(0,s.useRef)(1e3),b=(e,t)=>{a(s=>[...s,{type:e,text:t,timestamp:new Date().toLocaleTimeString()}])};(0,s.useEffect)(()=>{let e=setInterval(()=>{if(x.current){let e=x.current;x.current="",a(t=>{let s=[...t];if(s.length>0){let t=s[s.length-1];if("agent_response"===t.type)return s[s.length-1]={...t,text:t.text+e},s}return[...t,{type:"agent_response",text:e,timestamp:new Date().toLocaleTimeString()}]})}},100),t=()=>{m.current&&(clearTimeout(m.current),m.current=null)},s=()=>{let e,a,r=new WebSocket((e="https:"===window.location.protocol?"wss:":"ws:",a=window.location.host,`${e}//${a}/ws/omni`));c.current=r,r.onopen=()=>{l(!0),p.current=1e3,t(),b("info","Connected to Omni backend")},r.onmessage=e=>{try{let t=JSON.parse(e.data);"agent_response_start"===t.type?(d(!0),x.current="",b("agent_response","")):"agent_token"===t.type?x.current+=t.text:"agent_response_end"===t.type&&d(!1)}catch(e){console.error("Failed to parse message",e)}},r.onclose=()=>{l(!1),b("error","Disconnected. Reconnectingâ€¦"),t(),m.current=setTimeout(()=>{s()},p.current),p.current=Math.min(2*p.current,15e3)},r.onerror=e=>{console.error("WebSocket error:",e),b("error","WebSocket error occurred");try{r.close()}catch{}}};return s(),()=>{clearInterval(e),t();let s=c.current;if(s){s.onclose=null;try{s.close()}catch{}}}},[]);let h=()=>{let e=n.trim();e&&c.current&&c.current.readyState===WebSocket.OPEN&&!i&&(c.current.send(JSON.stringify({type:"text_input",text:e})),o(""))};return(0,t.jsxs)("div",{className:"h-screen w-full bg-[#0b0f19] text-slate-100 flex flex-col",children:[(0,t.jsxs)("div",{className:"h-10 flex items-center justify-between px-3 border-b border-slate-800 bg-black/40 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,t.jsx)("span",{className:"font-semibold text-slate-100",children:"Omni-IDE"}),(0,t.jsx)("span",{className:"text-slate-600",children:"/"}),(0,t.jsx)("span",{className:"text-slate-400",children:"Workspace"})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 text-[11px]",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-2 px-2 py-1 rounded border ${r?"border-emerald-600/60 text-emerald-300":"border-rose-600/60 text-rose-300"} bg-black/30`,children:[(0,t.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${r?"bg-emerald-400":"bg-rose-400"}`}),r?"Connected":"Disconnected"]})})]}),(0,t.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,t.jsxs)("aside",{id:"sidebar",className:"w-64 shrink-0 border-r border-slate-800 bg-[#0f172a]",children:[(0,t.jsxs)("div",{className:"h-9 flex items-center justify-between px-3 border-b border-slate-800",children:[(0,t.jsx)("span",{className:"text-[11px] uppercase tracking-[0.16em] text-slate-400",children:"Explorer"}),(0,t.jsx)("span",{className:"text-[11px] text-slate-500",children:"Omni-IDE"})]}),(0,t.jsxs)("div",{className:"p-3 text-xs text-slate-300 space-y-2",children:[(0,t.jsx)("div",{className:"text-[10px] uppercase tracking-widest text-slate-500",children:"Workspace"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 hover:bg-slate-800/40 rounded px-2 py-1 cursor-pointer",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"ðŸ“"}),(0,t.jsx)("span",{children:"frontend"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 hover:bg-slate-800/40 rounded px-2 py-1 cursor-pointer",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"ðŸ“"}),(0,t.jsx)("span",{children:"backend"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 hover:bg-slate-800/40 rounded px-2 py-1 cursor-pointer",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"ðŸ“„"}),(0,t.jsx)("span",{children:"gateway.py"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col bg-[#020617] overflow-hidden",children:[(0,t.jsx)("div",{id:"editor-container",className:"flex-1 relative overflow-hidden",children:(0,t.jsxs)("div",{className:"absolute inset-0 m-3 rounded-lg border border-slate-800 bg-gradient-to-b from-[#0b1220] to-[#020617]",children:[(0,t.jsxs)("div",{className:"h-8 flex items-center justify-between px-3 border-b border-slate-800 bg-black/30",children:[(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Editor"}),(0,t.jsx)("div",{className:"text-[11px] text-slate-500",children:"Monaco placeholder"})]}),(0,t.jsxs)("div",{id:"monaco-placeholder",className:"h-[calc(100%-2rem)] p-4 font-mono text-[11px] text-slate-400",children:[(0,t.jsx)("p",{children:"// Monaco will mount here."}),(0,t.jsx)("p",{children:"// Container: #editor-container"})]})]})}),(0,t.jsxs)("div",{id:"terminal",className:"h-52 border-t border-slate-800 bg-black/40 flex flex-col",children:[(0,t.jsxs)("div",{className:"h-8 flex items-center justify-between px-3 border-b border-slate-800",children:[(0,t.jsx)("div",{className:"text-[11px] uppercase tracking-[0.16em] text-slate-400",children:"Terminal"}),(0,t.jsx)("div",{className:"text-[11px] text-slate-500",children:i?"Agent runningâ€¦":"Idle"})]}),(0,t.jsx)("div",{className:"flex-1 overflow-auto px-3 py-2 font-mono text-[11px] text-slate-300 space-y-1",children:0===e.length?(0,t.jsx)("div",{className:"text-slate-500 select-none",children:"omni-ide âžœ waiting for outputâ€¦"}):e.map((e,s)=>(0,t.jsxs)("div",{className:"whitespace-pre-wrap break-words",children:[(0,t.jsxs)("span",{className:"text-slate-600",children:["[",e.timestamp,"]"]})," ",(0,t.jsx)("span",{className:"error"===e.type?"text-rose-300":"info"===e.type?"text-sky-300":"text-slate-200",children:e.text})]},s))}),(0,t.jsxs)("div",{className:"p-2 border-t border-slate-800 flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),h())},placeholder:i?"Agent is busyâ€¦":"Type a command and press Enter",disabled:!r||i,className:"flex-1 bg-[#0b1220] text-slate-100 rounded-md px-3 py-2 text-xs border border-slate-700 focus:outline-none focus:border-sky-500 disabled:opacity-60"}),(0,t.jsx)("button",{onClick:h,disabled:!r||i||!n.trim(),className:"px-3 py-2 rounded-md text-xs bg-sky-600 hover:bg-sky-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"})]})]})]})]})]})}e.s(["default",()=>a])},45071,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function a(){let[e,a]=(0,s.useState)(null),[r,l]=(0,s.useState)(!0),[n,o]=(0,s.useState)(!1),[i,d]=(0,s.useState)(""),[c,x]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1),[b,h]=(0,s.useState)("");(0,s.useEffect)(()=>{u()},[]);let u=async()=>{try{let e=await fetch("http://localhost:8000/api/setup/status"),t=await e.json();a(t),t.has_gemini_key||o(!0)}catch(e){console.error("Failed to fetch setup status",e)}finally{l(!1)}},g=async()=>{try{let e=await fetch("http://localhost:8000/api/setup/progress"),t=await e.json();if(h(t.message),"completed"===t.status||"error"===t.status)return p(!1),"completed"===t.status&&(i?await f():setTimeout(()=>{o(!1),window.location.reload()},2e3)),!1;return!0}catch(e){return!1}},f=async()=>{try{await fetch("http://localhost:8000/api/setup/save_key",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:i})}),o(!1),window.location.reload()}catch(e){console.error(e)}},y=async e=>{p(!0),h(`Starting download for ${e}...`);try{await fetch("http://localhost:8000/api/setup/install_local",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model_name:e})});let t=setInterval(async()=>{await g()||clearInterval(t)},1e3)}catch(e){p(!1),h("Failed to start installation.")}},j=async()=>{i&&(x(!0),await f(),x(!1))};return!r&&n&&e?(0,t.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-[#1e1e1e] border border-gray-700 rounded-lg p-8 max-w-2xl w-full shadow-2xl text-gray-200",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold mb-2 text-white",children:"Smart Engine Setup"}),(0,t.jsx)("p",{className:"text-gray-400 mb-6",children:"Omni-IDE requires an AI engine config. Let's optimize for your hardware."}),(0,t.jsxs)("div",{className:"bg-[#252526] p-4 rounded mb-6 border border-gray-700 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-white",children:"ðŸ” System Scan"}),(0,t.jsxs)("p",{className:"text-sm",children:["Detected ",e.ram_gb,"GB RAM"]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"font-semibold text-white",children:"ðŸ§  Local Daemon (Ollama)"}),(0,t.jsx)("p",{className:`text-sm ${e.ollama_running?"text-green-400":"text-red-400"}`,children:e.ollama_running?"ðŸŸ¢ Active & Ready":"ðŸ”´ Not Detected / Offline"})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("p",{className:"font-semibold text-white mb-2",children:"ðŸ”‘ Gemini Cloud Intelligence (Required)"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Gemini acts as the brain for rigid tool-calling and orchestration."}),(0,t.jsx)("input",{type:"password",placeholder:"Paste Gemini API Key",className:"w-full bg-[#3c3c3c] text-white px-3 py-2 rounded border border-gray-600 focus:outline-none focus:border-blue-500 text-sm",value:i,onChange:e=>d(e.target.value)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:`bg-[#252526] p-6 rounded-lg border ${"CLOUD_ONLY"===e.recommendation?"border-blue-500":"border-gray-700"} flex flex-col relative overflow-hidden`,children:["CLOUD_ONLY"===e.recommendation&&(0,t.jsx)("div",{className:"absolute top-0 right-0 bg-blue-600 text-xs px-2 py-1 rounded-bl font-bold text-white",children:"Recommended"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-blue-400 mb-2",children:"âš¡ Cloud Speed"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-4 flex-grow",children:"Instant start. No downloads required. Zero local hardware overhead. Full speed."}),(0,t.jsx)("button",{onClick:j,disabled:c||!i,className:"w-full py-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white rounded font-medium transition-colors mt-auto",children:c?"Saving...":"Use Cloud Only"})]}),(0,t.jsxs)("div",{className:`bg-[#252526] p-6 rounded-lg border ${e.recommendation.startsWith("HYBRID")?"border-green-500":"border-gray-700"} flex flex-col relative overflow-hidden`,children:[e.recommendation.startsWith("HYBRID")&&(0,t.jsx)("div",{className:"absolute top-0 right-0 bg-green-600 text-xs px-2 py-1 rounded-bl font-bold text-white",children:"Recommended"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-green-400 mb-2",children:"ðŸš€ Hybrid Power"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-4 flex-grow",children:"Offline-capable fallback combined with Cloud intelligence. High privacy."}),e.ollama_running?(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("p",{className:"text-xs text-gray-500 mb-1",children:["Recommended Profile (",e.ram_gb,"GB RAM):"]}),(0,t.jsx)("p",{className:"font-mono text-xs bg-[#1e1e1e] p-2 rounded border border-gray-700 text-green-300",children:"HYBRID_PRO"===e.recommendation?"qwen2.5-coder:7b (4.7 GB)":"qwen2.5-coder:3b (1.9 GB)"})]}):(0,t.jsx)("div",{className:"text-xs text-red-400 mb-4 p-2 bg-red-900/30 rounded border border-red-800",children:"âš ï¸ Ollama daemon not running. Please install Ollama on port 11434 to enable Hybrid features."}),(0,t.jsx)("div",{className:"mt-auto",children:m?(0,t.jsx)("div",{className:"w-full py-2 bg-[#3c3c3c] text-center text-gray-300 rounded text-xs font-mono truncate px-2 border border-blue-500/50",children:b||"Initializing Model..."}):(0,t.jsx)("button",{onClick:()=>y("HYBRID_PRO"===e.recommendation?"qwen2.5-coder:7b":"qwen2.5-coder:3b"),disabled:!e.ollama_running||!i,className:"w-full py-2 bg-green-700 hover:bg-green-600 disabled:opacity-50 disabled:bg-gray-700 text-white rounded font-medium transition-colors",children:"Install Hybrid"})})]})]})]})}):null}e.s(["default",()=>a])}]);