{"version":3,"file":"util.js","sourceRoot":"","sources":["../src/util.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\nexport interface IDisposable {\r\n\tdispose(): void;\r\n}\r\n\r\nexport function toDisposable(dispose: () => void): IDisposable {\r\n\treturn { dispose };\r\n}\r\n\r\nexport function done<T>(promise: Promise<T>): Promise<void> {\r\n\treturn promise.then<void>(() => undefined);\r\n}\r\n\r\nexport namespace Versions {\r\n\tdeclare type VersionComparisonResult = -1 | 0 | 1;\r\n\r\n\texport interface Version {\r\n\t\tmajor: number;\r\n\t\tminor: number;\r\n\t\tpatch: number;\r\n\t\tpre?: string;\r\n\t}\r\n\r\n\texport function compare(v1: string | Version, v2: string | Version): VersionComparisonResult {\r\n\t\tif (typeof v1 === 'string') {\r\n\t\t\tv1 = fromString(v1);\r\n\t\t}\r\n\t\tif (typeof v2 === 'string') {\r\n\t\t\tv2 = fromString(v2);\r\n\t\t}\r\n\r\n\t\tif (v1.major > v2.major) { return 1; }\r\n\t\tif (v1.major < v2.major) { return -1; }\r\n\r\n\t\tif (v1.minor > v2.minor) { return 1; }\r\n\t\tif (v1.minor < v2.minor) { return -1; }\r\n\r\n\t\tif (v1.patch > v2.patch) { return 1; }\r\n\t\tif (v1.patch < v2.patch) { return -1; }\r\n\r\n\t\tif (v1.pre === undefined && v2.pre !== undefined) { return 1; }\r\n\t\tif (v1.pre !== undefined && v2.pre === undefined) { return -1; }\r\n\r\n\t\tif (v1.pre !== undefined && v2.pre !== undefined) {\r\n\t\t\treturn v1.pre.localeCompare(v2.pre) as VersionComparisonResult;\r\n\t\t}\r\n\r\n\t\treturn 0;\r\n\t}\r\n\r\n\texport function from(major: string | number, minor: string | number, patch?: string | number, pre?: string): Version {\r\n\t\treturn {\r\n\t\t\tmajor: typeof major === 'string' ? parseInt(major, 10) : major,\r\n\t\t\tminor: typeof minor === 'string' ? parseInt(minor, 10) : minor,\r\n\t\t\tpatch: patch === undefined || patch === null ? 0 : typeof patch === 'string' ? parseInt(patch, 10) : patch,\r\n\t\t\tpre: pre,\r\n\t\t};\r\n\t}\r\n\r\n\texport function fromString(version: string): Version {\r\n\t\tconst [ver, pre] = version.split('-');\r\n\t\tconst [major, minor, patch] = ver.split('.');\r\n\t\treturn from(major, minor, patch, pre);\r\n\t}\r\n}\r\n"]}