{"version":3,"file":"extension.js","sourceRoot":"","sources":["../../src/api/extension.ts"],"names":[],"mappings":";AAAA;;;gGAGgG;;;AAIhG,mCAA6C;AAC7C,iCAAiC;AAEjC;IAEC,OAAO,GAAY,KAAK,CAAC;IAEjB,sBAAsB,GAAG,IAAI,qBAAY,EAAW,CAAC;IACpD,qBAAqB,GAAmB,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC;IAE3E,MAAM,GAAsB,SAAS,CAAC;IAE9C,IAAI,KAAK,CAAC,KAAwB,EAAE;QACnC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAEpB,MAAM,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC;QAExB,IAAI,IAAI,CAAC,OAAO,KAAK,OAAO,EAAE,CAAC;YAC9B,OAAO;QACR,CAAC;QAED,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAAA,CAC/C;IAED,IAAI,KAAK,GAAsB;QAC9B,OAAO,IAAI,CAAC,MAAM,CAAC;IAAA,CACnB;IAED,YAAY,KAAa,EAAE;QAC1B,IAAI,KAAK,EAAE,CAAC;YACX,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACrB,CAAC;IAAA,CACD;IAED,MAAM,CAAC,OAAe,EAAO;QAC5B,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;YAClB,MAAM,IAAI,KAAK,CAAC,qBAAqB,CAAC,CAAC;QACxC,CAAC;QAED,IAAI,OAAO,KAAK,CAAC,EAAE,CAAC;YACnB,MAAM,IAAI,KAAK,CAAC,kBAAkB,OAAO,SAAS,CAAC,CAAC;QACrD,CAAC;QAED,OAAO,IAAI,cAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAAA,CAChC;CACD","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\nimport { Model } from '../model';\r\nimport { GitBaseExtension, API } from './git-base';\r\nimport { Event, EventEmitter } from 'vscode';\r\nimport { ApiImpl } from './api1';\r\n\r\nexport class GitBaseExtensionImpl implements GitBaseExtension {\r\n\r\n\tenabled: boolean = false;\r\n\r\n\tprivate _onDidChangeEnablement = new EventEmitter<boolean>();\r\n\treadonly onDidChangeEnablement: Event<boolean> = this._onDidChangeEnablement.event;\r\n\r\n\tprivate _model: Model | undefined = undefined;\r\n\r\n\tset model(model: Model | undefined) {\r\n\t\tthis._model = model;\r\n\r\n\t\tconst enabled = !!model;\r\n\r\n\t\tif (this.enabled === enabled) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.enabled = enabled;\r\n\t\tthis._onDidChangeEnablement.fire(this.enabled);\r\n\t}\r\n\r\n\tget model(): Model | undefined {\r\n\t\treturn this._model;\r\n\t}\r\n\r\n\tconstructor(model?: Model) {\r\n\t\tif (model) {\r\n\t\t\tthis.enabled = true;\r\n\t\t\tthis._model = model;\r\n\t\t}\r\n\t}\r\n\r\n\tgetAPI(version: number): API {\r\n\t\tif (!this._model) {\r\n\t\t\tthrow new Error('Git model not found');\r\n\t\t}\r\n\r\n\t\tif (version !== 1) {\r\n\t\t\tthrow new Error(`No API version ${version} found.`);\r\n\t\t}\r\n\r\n\t\treturn new ApiImpl(this._model);\r\n\t}\r\n}\r\n"]}