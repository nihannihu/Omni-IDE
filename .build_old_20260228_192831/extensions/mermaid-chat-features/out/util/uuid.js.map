{"version":3,"file":"uuid.js","sourceRoot":"","sources":["../../src/util/uuid.ts"],"names":[],"mappings":";AAAA;;;gGAGgG;;;AAEhG;;GAEG;AACH,wBAAuC;IACtC,+BAA+B;IAC/B,IAAI,OAAO,MAAM,CAAC,UAAU,KAAK,UAAU,EAAE,CAAC;QAC7C,qEAAqE;QACrE,yFAAyF;QACzF,uEAAuE;QACvE,iEAAiE;QAEjE,OAAO,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;IACzC,CAAC;IAED,YAAY;IACZ,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,EAAE,CAAC,CAAC;IACjC,MAAM,IAAI,GAAa,EAAE,CAAC;IAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;QAC9B,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;IAC5C,CAAC;IAED,WAAW;IACX,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;IAE9B,mBAAmB;IACnB,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;IACpC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC;IAEpC,kBAAkB;IAClB,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,MAAM,IAAI,GAAG,CAAC;IACd,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,MAAM,IAAI,GAAG,CAAC;IACd,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,MAAM,IAAI,GAAG,CAAC;IACd,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,MAAM,IAAI,GAAG,CAAC;IACd,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,OAAO,MAAM,CAAC;AAAA,CACd","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n/**\r\n * Copied from src/vs/base/common/uuid.ts\r\n */\r\nexport function generateUuid(): string {\r\n\t// use `randomUUID` if possible\r\n\tif (typeof crypto.randomUUID === 'function') {\r\n\t\t// see https://developer.mozilla.org/en-US/docs/Web/API/Window/crypto\r\n\t\t// > Although crypto is available on all windows, the returned Crypto object only has one\r\n\t\t// > usable feature in insecure contexts: the getRandomValues() method.\r\n\t\t// > In general, you should use this API only in secure contexts.\r\n\r\n\t\treturn crypto.randomUUID.bind(crypto)();\r\n\t}\r\n\r\n\t// prep-work\r\n\tconst _data = new Uint8Array(16);\r\n\tconst _hex: string[] = [];\r\n\tfor (let i = 0; i < 256; i++) {\r\n\t\t_hex.push(i.toString(16).padStart(2, '0'));\r\n\t}\r\n\r\n\t// get data\r\n\tcrypto.getRandomValues(_data);\r\n\r\n\t// set version bits\r\n\t_data[6] = (_data[6] & 0x0f) | 0x40;\r\n\t_data[8] = (_data[8] & 0x3f) | 0x80;\r\n\r\n\t// print as string\r\n\tlet i = 0;\r\n\tlet result = '';\r\n\tresult += _hex[_data[i++]];\r\n\tresult += _hex[_data[i++]];\r\n\tresult += _hex[_data[i++]];\r\n\tresult += _hex[_data[i++]];\r\n\tresult += '-';\r\n\tresult += _hex[_data[i++]];\r\n\tresult += _hex[_data[i++]];\r\n\tresult += '-';\r\n\tresult += _hex[_data[i++]];\r\n\tresult += _hex[_data[i++]];\r\n\tresult += '-';\r\n\tresult += _hex[_data[i++]];\r\n\tresult += _hex[_data[i++]];\r\n\tresult += '-';\r\n\tresult += _hex[_data[i++]];\r\n\tresult += _hex[_data[i++]];\r\n\tresult += _hex[_data[i++]];\r\n\tresult += _hex[_data[i++]];\r\n\tresult += _hex[_data[i++]];\r\n\tresult += _hex[_data[i++]];\r\n\treturn result;\r\n}\r\n"]}