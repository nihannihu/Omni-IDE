{"version":3,"file":"dispose.js","sourceRoot":"","sources":["../../src/util/dispose.ts"],"names":[],"mappings":";AAAA;;;gGAGgG;;;;AAIhG,oBAA2B,WAAgC,EAAE;IAC5D,OAAO,WAAW,CAAC,MAAM,EAAE,CAAC;QAC3B,MAAM,IAAI,GAAG,WAAW,CAAC,GAAG,EAAE,CAAC;QAC/B,IAAI,EAAE,OAAO,EAAE,CAAC;IACjB,CAAC;AAAA,CACD;AAED;IACS,WAAW,GAAG,KAAK,CAAC;IAElB,YAAY,GAAwB,EAAE,CAAC;IAE1C,OAAO,GAAQ;QACrB,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;YACtB,OAAO;QACR,CAAC;QACD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAAA,CAC9B;IAES,SAAS,CAA8B,KAAQ,EAAK;QAC7D,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;YACtB,KAAK,CAAC,OAAO,EAAE,CAAC;QACjB,CAAC;aAAM,CAAC;YACP,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/B,CAAC;QACD,OAAO,KAAK,CAAC;IAAA,CACb;IAED,IAAc,UAAU,GAAG;QAC1B,OAAO,IAAI,CAAC,WAAW,CAAC;IAAA,CACxB;CACD","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\nimport * as vscode from 'vscode';\r\n\r\nexport function disposeAll(disposables: vscode.Disposable[]) {\r\n\twhile (disposables.length) {\r\n\t\tconst item = disposables.pop();\r\n\t\titem?.dispose();\r\n\t}\r\n}\r\n\r\nexport abstract class Disposable {\r\n\tprivate _isDisposed = false;\r\n\r\n\tprotected _disposables: vscode.Disposable[] = [];\r\n\r\n\tpublic dispose(): any {\r\n\t\tif (this._isDisposed) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._isDisposed = true;\r\n\t\tdisposeAll(this._disposables);\r\n\t}\r\n\r\n\tprotected _register<T extends vscode.Disposable>(value: T): T {\r\n\t\tif (this._isDisposed) {\r\n\t\t\tvalue.dispose();\r\n\t\t} else {\r\n\t\t\tthis._disposables.push(value);\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n\tprotected get isDisposed() {\r\n\t\treturn this._isDisposed;\r\n\t}\r\n}\r\n"]}