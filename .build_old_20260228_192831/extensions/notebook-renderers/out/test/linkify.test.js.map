{"version":3,"file":"linkify.test.js","sourceRoot":"","sources":["../../src/test/linkify.test.ts"],"names":[],"mappings":";AAAA;;;gGAGgG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEhG,MAAY,MAAM,mCAAe;AACjC,iCAA8B;AAC9B,wCAAmD;AAEnD,MAAM,GAAG,GAAG,IAAI,aAAK,EAAE,CAAC;AACxB,MAAM,CAAC,QAAQ,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC;AAEtC,KAAK,CAAC,wCAAwC,EAAE,GAAG,EAAE,CAAC;IAErD,sBAAY,CAAC,mBAAmB,GAAG,CAAC,KAAa,EAAE,EAAE,CAAC,KAAK,CAAC;IAE5D,IAAI,CAAC,UAAU,EAAE,GAAG,EAAE,CAAC;QACtB,MAAM,aAAa,GAAG,IAAA,iBAAO,EAAC,OAAO,EAAE,EAAE,gBAAgB,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC;QAC1F,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;IAAA,CAC/C,CAAC,CAAC;IAEH,IAAI,CAAC,oBAAoB,EAAE,GAAG,EAAE,CAAC;QAChC,MAAM,aAAa,GAAG,IAAA,iBAAO,EAAC,qCAAqC,EAAE,EAAE,gBAAgB,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC;QACxH,MAAM,cAAc,GAAG,IAAA,iBAAO,EAAC,qCAAqC,EAAE,EAAE,gBAAgB,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,EAAE,IAAI,CAAC,CAAC;QAE3H,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,SAAS,EAAE,mEAAmE,CAAC,CAAC;QAC3G,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,WAAW,EAAE,qCAAqC,CAAC,CAAC;QAC/E,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,EAAE,mEAAmE,CAAC,CAAC;QAC5G,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,WAAW,EAAE,qCAAqC,CAAC,CAAC;IAAA,CAChF,CAAC,CAAC;IAEH,IAAI,CAAC,qBAAqB,EAAE,GAAG,EAAE,CAAC;QACjC,MAAM,aAAa,GAAG,IAAA,iBAAO,EAAC,wDAAwD,EAAE,EAAE,gBAAgB,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC;QAC3I,MAAM,cAAc,GAAG,IAAA,iBAAO,EAAC,wDAAwD,EAAE,EAAE,gBAAgB,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC;QAE7I,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,SAAS,EAAE,qEAAqE,CAAC,CAAC;QAC7G,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,WAAW,EAAE,0BAA0B,CAAC,CAAC;QACpE,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,EAAE,qEAAqE,CAAC,CAAC;QAC9G,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,WAAW,EAAE,0BAA0B,CAAC,CAAC;IAAA,CACrE,CAAC,CAAC;IAEH,IAAI,CAAC,yBAAyB,EAAE,GAAG,EAAE,CAAC;QACrC,MAAM,aAAa,GAAG,IAAA,iBAAO,EAAC,gDAAgD,EAAE,EAAE,gBAAgB,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,EAAE,IAAI,CAAC,CAAC;QAEpI,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,SAAS,EAAE,4DAA4D,CAAC,CAAC;QACpG,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,WAAW,EAAE,gDAAgD,CAAC,CAAC;IAAA,CAC1F,CAAC,CAAC;AAAA,CACH,CAAC,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\nimport * as assert from 'assert';\r\nimport { JSDOM } from 'jsdom';\r\nimport { LinkDetector, linkify } from '../linkify';\r\n\r\nconst dom = new JSDOM();\r\nglobal.document = dom.window.document;\r\n\r\nsuite('Notebook builtin output link detection', () => {\r\n\r\n\tLinkDetector.injectedHtmlCreator = (value: string) => value;\r\n\r\n\ttest('no links', () => {\r\n\t\tconst htmlWithLinks = linkify('hello', { linkifyFilePaths: true, trustHtml: true }, true);\r\n\t\tassert.equal(htmlWithLinks.innerHTML, 'hello');\r\n\t});\r\n\r\n\ttest('web link detection', () => {\r\n\t\tconst htmlWithLinks = linkify('something www.example.com something', { linkifyFilePaths: true, trustHtml: true }, true);\r\n\t\tconst htmlWithLinks2 = linkify('something www.example.com something', { linkifyFilePaths: false, trustHtml: false }, true);\r\n\r\n\t\tassert.equal(htmlWithLinks.innerHTML, 'something <a href=\"www.example.com\">www.example.com</a> something');\r\n\t\tassert.equal(htmlWithLinks.textContent, 'something www.example.com something');\r\n\t\tassert.equal(htmlWithLinks2.innerHTML, 'something <a href=\"www.example.com\">www.example.com</a> something');\r\n\t\tassert.equal(htmlWithLinks2.textContent, 'something www.example.com something');\r\n\t});\r\n\r\n\ttest('html link detection', () => {\r\n\t\tconst htmlWithLinks = linkify('something <a href=\"www.example.com\">link</a> something', { linkifyFilePaths: true, trustHtml: true }, true);\r\n\t\tconst htmlWithLinks2 = linkify('something <a href=\"www.example.com\">link</a> something', { linkifyFilePaths: false, trustHtml: true }, true);\r\n\r\n\t\tassert.equal(htmlWithLinks.innerHTML, 'something <span><a href=\"www.example.com\">link</a></span> something');\r\n\t\tassert.equal(htmlWithLinks.textContent, 'something link something');\r\n\t\tassert.equal(htmlWithLinks2.innerHTML, 'something <span><a href=\"www.example.com\">link</a></span> something');\r\n\t\tassert.equal(htmlWithLinks2.textContent, 'something link something');\r\n\t});\r\n\r\n\ttest('html link without trust', () => {\r\n\t\tconst htmlWithLinks = linkify('something <a href=\"file.py\">link</a> something', { linkifyFilePaths: true, trustHtml: false }, true);\r\n\r\n\t\tassert.equal(htmlWithLinks.innerHTML, 'something &lt;a href=\"file.py\"&gt;link&lt;/a&gt; something');\r\n\t\tassert.equal(htmlWithLinks.textContent, 'something <a href=\"file.py\">link</a> something');\r\n\t});\r\n});\r\n\r\n"]}